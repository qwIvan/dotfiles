#!/bin/sh
WIGHT=$1
HEIGHT=$2
test "$WIGHT" || WIGHT=$(xrandr | head -n 1 | cut -d ' ' -f 8)
test "$HEIGHT" || HEIGHT=$(xrandr | head -n 1 | cut -d ' ' -f 10 | cut -d , -f 1)
PAPER_DIR=~/wallpapers
DOWN_PAPER=~/wallpaper~
RANDOM_URL="https://unsplash.it/$WIGHT/$HEIGHT/?random"
feh  --bg-scale $DOWN_PAPER --no-xinerama && mv $DOWN_PAPER $PAPER_DIR/$(md5sum $DOWN_PAPER | awk '{print $1}')-"$WIGHT"x"$HEIGHT" || feh --bg-scale --randomize $PAPER_DIR/*-"$WIGHT"x"$HEIGHT" --no-xinerama
wget "$RANDOM_URL" -O $DOWN_PAPER
